<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>程序设计实践——规则汇编 › 平凡之路</title>
  <meta name="author" content="zhoukuo">
  
  <meta name="description" content="———— Brian W.Kernighan, Rob Pike
风格
全局变量用具有描述意义的名字，局部变量用短名字">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="程序设计实践——规则汇编">
  <meta property="og:site_name" content="平凡之路">

  
    <meta property="og:image" content="undefined">
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="平凡之路" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>
</html>

<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">平凡之路</a></h1>
  <h2><a href="/">生活不止眼前的苟且，还有诗和远方</a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about">About</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title">程序设计实践——规则汇编</h1>
  

      
        <time datetime="2016-08-20T15:25:12.000Z">2016-08-20</time>
      
    </header>
    <div class="entry">
      
        <p>———— Brian W.Kernighan, Rob Pike</p>
<h2 id="风格"><a href="#风格" class="headerlink" title="风格"></a>风格</h2><ul>
<li>全局变量用具有描述意义的名字，局部变量用短名字<a id="more"></a></li>
<li>保持一致性</li>
<li>函数采用动作性的名字</li>
<li>要准确</li>
<li>以缩进形式显示程序结构</li>
<li>使用表达式的自然形式</li>
<li>利用括号排除歧义</li>
<li>分解复杂的表达式</li>
<li>要清晰</li>
<li>当心副作用</li>
<li>使用一致的缩进和加括号风格</li>
<li>为了一致性，使用习惯用法</li>
<li>用else-if处理多路选择</li>
<li>避免使用函数宏</li>
<li>给宏的体和参数都加上括号</li>
<li>给神秘的数起个名字</li>
<li>把数定义为常量，不要定义为宏</li>
<li>使用字符形式的常量，不要用整数</li>
<li>利用语言去计算对象的大小</li>
<li>不要大谈明显的东西</li>
<li>给函数和全局数据加注释</li>
<li>不要注释不好的代码，应该重写</li>
<li>注释不要与代码矛盾</li>
<li>澄清情况，不要添乱</li>
</ul>
<h2 id="界面"><a href="#界面" class="headerlink" title="界面"></a>界面</h2><ul>
<li>隐蔽实现的细节</li>
<li>选择一小组正交的基本操作</li>
<li>不要在用户背后搞小动作</li>
<li>在各处都用同样的方式做同样的事</li>
<li>释放资源与分配资源应该在同一层次进行</li>
<li>在低层检查错误，在高层处理</li>
<li>只把异常用在异常的情况</li>
</ul>
<h2 id="排错"><a href="#排错" class="headerlink" title="排错"></a>排错</h2><ul>
<li>寻找熟悉的模式</li>
<li>检查最近的改动</li>
<li>不要两次犯同样的错误</li>
<li>现在排除，而不是以后</li>
<li>取得堆栈轨迹</li>
<li>键入前仔细读一读</li>
<li>把你的代码解释给别人</li>
<li>把错误弄成可以重现的</li>
<li>分而治之</li>
<li>研究错误的计数特性</li>
<li>显示输出，使搜索局部化</li>
<li>写自检测代码</li>
<li>写记录文件</li>
<li>画一个图</li>
<li>写记录文件</li>
<li>保留记录</li>
</ul>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><ul>
<li>测试代码的边界情况</li>
<li>测试前条件和后条件</li>
<li>使用断言</li>
<li>做防御性程序设计</li>
<li>检查错误的返回值</li>
<li>以递增方式做测试</li>
<li>首先测试最简单的部分</li>
<li>弄清所期望的输出</li>
<li>检验那些应当保持的特征</li>
<li>比较相互独立的实现</li>
<li>度量测试的覆盖面</li>
<li>自动回归测试</li>
<li>建立自包容测试</li>
</ul>
<h2 id="性能"><a href="#性能" class="headerlink" title="性能"></a>性能</h2><ul>
<li>自动计时测量</li>
<li>使用轮廓程序</li>
<li>集中注意热点</li>
<li>画一个图</li>
<li>使用更好的算法或数据结构</li>
<li>让编译程序做优化</li>
<li>调整代码</li>
<li>不要优化无关紧要的东西</li>
<li>收集公共表达式</li>
<li>用代价操作代替高代价操作</li>
<li>铺开或者删除代码</li>
<li>缓存频繁使用的值</li>
<li>写专用的存储分配程序</li>
<li>对输入输出做缓存</li>
<li>特殊情况特殊处理</li>
<li>预先算出某些值</li>
<li>使用近似值</li>
<li>在某个低级语言里重写代码</li>
<li>使用尽可能小的数据类型以节约存储</li>
<li>不存储容易重算的东西</li>
</ul>
<h2 id="可移植性"><a href="#可移植性" class="headerlink" title="可移植性"></a>可移植性</h2><ul>
<li>盯紧标准</li>
<li>在主流中做程序设计</li>
<li>警惕语言的麻烦特性</li>
<li>用多个编译系统试验</li>
<li>使用标准库</li>
<li>只使用到处都能用的特征</li>
<li>避免条件编译</li>
<li>把系统依赖性局限到独立文件里</li>
<li>把系统依赖隐藏在界面后面</li>
<li>用正文做数据交换</li>
<li>数据交换时用固定的字节序</li>
<li>如果改变规范就应该改变名字</li>
<li>维护现存程序与数据的相容性</li>
<li>不要假定是ASCII</li>
<li>不要假定是英语</li>
</ul>

      
    </div>
      
      <footer>
        
        
  
  <div>
    <a href="/tags/设计/">设计</a>
  </div>

        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>


<section id="comment">
  
</section>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:zhoukuo.github.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2019/12/16/PostgreSQL11安装布署指南/">PostgreSQL11安装布署指南</a>
      </li>
    
      <li>
        <a href="/2019/10/31/Kong安装布署指南/">Kong安装布署指南</a>
      </li>
    
      <li>
        <a href="/2019/10/24/Gitea——轻量级代码托管解决方案/">Gitea——轻量级代码托管解决方案</a>
      </li>
    
      <li>
        <a href="/2019/10/15/[转]Loki——轻量级的日志聚合系统/">[转]Loki——轻量级的日志聚合系统</a>
      </li>
    
      <li>
        <a href="/2019/09/26/Promethus监控之—进程监控/">Promethus监控之—进程监控</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/c/">c</a><small>8</small></li>
  
    <li><a href="/tags/docker/">docker</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>2</small></li>
  
    <li><a href="/tags/golang/">golang</a><small>10</small></li>
  
    <li><a href="/tags/hexo/">hexo</a><small>1</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>8</small></li>
  
    <li><a href="/tags/markdown/">markdown</a><small>1</small></li>
  
    <li><a href="/tags/持续交付/">持续交付</a><small>1</small></li>
  
    <li><a href="/tags/数据库/">数据库</a><small>1</small></li>
  
    <li><a href="/tags/文化/">文化</a><small>7</small></li>
  
    <li><a href="/tags/服务网关/">服务网关</a><small>1</small></li>
  
    <li><a href="/tags/测试/">测试</a><small>3</small></li>
  
    <li><a href="/tags/监控/">监控</a><small>3</small></li>
  
    <li><a href="/tags/设计/">设计</a><small>6</small></li>
  
    <li><a href="/tags/调试/">调试</a><small>2</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/c/" style="font-size: 18.33px;">c</a> <a href="/tags/docker/" style="font-size: 10px;">docker</a> <a href="/tags/git/" style="font-size: 11.67px;">git</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/linux/" style="font-size: 18.33px;">linux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/持续交付/" style="font-size: 10px;">持续交付</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文化/" style="font-size: 16.67px;">文化</a> <a href="/tags/服务网关/" style="font-size: 10px;">服务网关</a> <a href="/tags/测试/" style="font-size: 13.33px;">测试</a> <a href="/tags/监控/" style="font-size: 13.33px;">监控</a> <a href="/tags/设计/" style="font-size: 15px;">设计</a> <a href="/tags/调试/" style="font-size: 11.67px;">调试</a>
  </div>
</div>


  <div class="widget tag">
  <h3 class="title">链接</h3>
    <ul class="entry">
        
          <li>
            
            	<a href="https://trello.com/" target="_blank" title="Trello">Trello</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.scrumcn.com/" target="_blank" title="Scrum中文网">Scrum中文网</a>
            
          </li>
        
          <li>
            
            	<a href="https://www.processon.com/" target="_blank" title="ProcessOn">ProcessOn</a>
            
          </li>
        
          <li>
            
            	<a href="http://www.golangtc.com/download" target="_blank" title="Go下载">Go下载</a>
            
          </li>
        
          <li>
            
            	<a href="http://godoc.ml/" target="_blank" title="Go手册">Go手册</a>
            
          </li>
        
          <li>
            
            	<a href="https://docs.ruanjiadeng.com/gopl-zh/" target="_blank" title="Go圣经">Go圣经</a>
            
          </li>
        
    </ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2020 zhoukuo
  
</div>
<div class="clearfix"></div></footer>
  <script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>



</body>
</html>


<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>转-轻量级云盘 File Browser 安装及使用 › 平凡之路</title>
  <meta name="author" content="zhoukuo">
  
  <meta name="description" content="File Browser 是一个基于 Web 的文件管理器。它可以使你随时随地的对设备的文件进行基本的管理操作，如：创建、删除、移动、复制等。它除了可以让你进行文件管理之外，还有一些其他的功能。它支持多个用户的管理，而且每个用户可以拥有自己可以访问的文件和权限。它还支持文件分享，就像网盘那样，你可以通过它来向你的朋友分享文件。你还可以用它来执行一些 Linux 命令，比如你想要在当前目录下克隆一个代码库，就可以用它来执行git等命令。">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="转-轻量级云盘 File Browser 安装及使用">
  <meta property="og:site_name" content="平凡之路">

  
    <meta property="og:image" content="undefined">
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="平凡之路" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>
</html>

<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">平凡之路</a></h1>
  <h2><a href="/">生活不止眼前的苟且，还有诗和远方</a></h2>
  <nav id="main-nav">
    <ul>
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about">About</a></li>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper"><article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title">转-轻量级云盘 File Browser 安装及使用</h1>
  

      
        <time datetime="2020-06-03T02:28:37.000Z">2020-06-03</time>
      
    </header>
    <div class="entry">
      
        <p>File Browser 是一个基于 Web 的文件管理器。它可以使你随时随地的对设备的文件进行基本的管理操作，如：创建、删除、移动、复制等。它除了可以让你进行文件管理之外，还有一些其他的功能。它支持多个用户的管理，而且每个用户可以拥有自己可以访问的文件和权限。它还支持文件分享，就像网盘那样，你可以通过它来向你的朋友分享文件。你还可以用它来执行一些 Linux 命令，比如你想要在当前目录下克隆一个代码库，就可以用它来执行git等命令。</p>
<a id="more"></a>

<p><img src="https://cdn.mivm.cn/www.mivm.cn/archives/filebrowser/File-Browser.png"></p>
<h2 id="安装及配置"><a href="#安装及配置" class="headerlink" title="安装及配置"></a>安装及配置</h2><p>File Browser 适用于全平台，任何操作系统都可以安装它，当然，我会以 Linux 为主。</p>
<p>File Browser 在 Linux 的安装非常简单，只需要一条命令就可以搞定：curl -fsSL <a href="https://filebrowser.xyz/get.sh" target="_blank" rel="noopener">https://filebrowser.xyz/get.sh</a> | bash，你也可以手动下载可执行文件进行安装：<a href="https://github.com/filebrowser/filebrowser/releases/latest" target="_blank" rel="noopener">https://github.com/filebrowser/filebrowser/releases/latest</a></p>
<p>当安装好之后，你并不能立即使用它，需要修改一些配置。</p>
<p>以下设置方法只适用 File Browser 2.0 +</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">创建配置数据库：filebrowser -d /etc/filebrowser.db config init</span><br><span class="line"></span><br><span class="line">设置监听地址：filebrowser -d /etc/filebrowser.db config set --address 0.0.0.0</span><br><span class="line"></span><br><span class="line">设置监听端口：filebrowser -d /etc/filebrowser.db config set --port 8088</span><br><span class="line"></span><br><span class="line">设置语言环境：filebrowser -d /etc/filebrowser.db config set --locale zh-cn</span><br><span class="line"></span><br><span class="line">设置日志位置：filebrowser -d /etc/filebrowser.db config set --log /var/log/filebrowser.log</span><br><span class="line"></span><br><span class="line">添加一个用户：filebrowser -d /etc/filebrowser.db users add root password --perm.admin，其中的root和password分别是用户名和密码，根据自己的需求更改。</span><br></pre></td></tr></table></figure>

<p>有关更多配置的选项，可以参考官方文档：<a href="https://docs.filebrowser.xyz/" target="_blank" rel="noopener">https://docs.filebrowser.xyz/</a></p>
<p>配置修改好以后，就可以启动 File Browser 了，使用-d参数指定配置数据库路径。示例：filebrowser -d /etc/filebrowser.db</p>
<p>启动成功就可以使用浏览器访问 File Browser 了，在浏览器输入 IP:端口，示例：<a href="http://192.168.1.1:8088/" target="_blank" rel="noopener">http://192.168.1.1:8088</a></p>
<p>然后会看到 File Browser 的登陆界面，用刚刚创建的用户登陆。</p>
<p>登陆以后，默认会看到 File Browser 运行目录下的文件，需要更改一下当前用户的文件夹位置。</p>
<p>点击 [设置] → [用户设置] → 编辑用户 admin → 将目录范围改为你想要显示的文件夹，例如：/mnt → 修改完成后点击最下方的保存即可。</p>
<p>这样，File Browser 的基本安装和配置就搞定了。</p>
<p><img src="https://cdn.mivm.cn/www.mivm.cn/archives/filebrowser/01.jpg"></p>
<h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><h3 id="后台运行"><a href="#后台运行" class="headerlink" title="后台运行"></a>后台运行</h3><p>File Browser 默认是前台运行，如何让它后台运行呢？</p>
<p>第一种是 nohup 大法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">运行：nohup filebrowser -d /etc/filebrowser.db &gt;/dev/null 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br><span class="line">停止运行：kill -9 $(pidof filebrowser)</span><br><span class="line"></span><br><span class="line">开机启动：sed -i &apos;/exit 0/i\nohup filebrowser -d \/etc\/filebrowser.db &gt;\/dev\/null 2&gt;&amp;1 &amp;&apos; /etc/rc.local</span><br><span class="line"></span><br><span class="line">取消开机启动：sed -i &apos;/nohup filebrowser -d \/etc\/filebrowser.db &gt;\/dev\/null 2&gt;&amp;1 &amp;/d&apos; /etc/rc.local</span><br></pre></td></tr></table></figure>

<p>第二种是 systemd 大法：</p>
<p>首先下载 File Browser 的 service 文件：curl <a href="https://cdn.mivm.cn/www.mivm.cn/archives/filebrowser/filebrowser.service" target="_blank" rel="noopener">https://cdn.mivm.cn/www.mivm.cn/archives/filebrowser/filebrowser.service</a> -o /lib/systemd/system/filebrowser.service</p>
<p>如果你的运行命令不是/usr/local/bin/filebrowser -d /etc/filebrowser.db，需要对 service 文件进行修改，将文件的 ExecStart 改为你的运行命令，更改完成后需要输入systemctl daemon-reload。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">运行：systemctl start filebrowser.service</span><br><span class="line"></span><br><span class="line">停止运行：systemctl stop filebrowser.service</span><br><span class="line"></span><br><span class="line">开机启动：systemctl enable filebrowser.service</span><br><span class="line"></span><br><span class="line">取消开机启动：systemctl disable filebrowser.service</span><br><span class="line"></span><br><span class="line">查看运行状态：systemctl status filebrowser.service</span><br></pre></td></tr></table></figure>

<p>我推荐使用 systemd 的方法来后台运行，当然，前提是你所使用的操作系统支持 systemd。</p>
<h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><p>File Browser 2.0 起开始内建 HTTPS 支持，只需要配置 SSL 证书即可。</p>
<p>配置 SSL：filebrowser -d /etc/filebrowser.db config set –cert example.com.crt –key example.com.key，其中example.com.crt和example.com.key分别是 SSL 证书和密钥路径，根据自身情况进行更改。配置完 SSL 后，只可以使用 HTTPS 访问，不可以使用 HTTP。</p>
<p>取消 SSL：filebrowser -d /etc/filebrowser.db config set –cert “” –key “”</p>
<p>当然，你也可以使用 Nginx 等 Web 服务器对 File Browser 进行反向代理，以达到 HTTPS 访问的目的。</p>
<p>还有就是使用 Caddy，这是一个开源、支持 HTTP/2 的 Web 服务器，它的一个显著特点就是默认启用 HTTPS 访问，会自己申请 SSL 证书，同时支持大量的插件，File Browser 就可以作为其插件运行。</p>
<h3 id="外网访问"><a href="#外网访问" class="headerlink" title="外网访问"></a>外网访问</h3><p>每个人的情况不同，外网访问的配置方法也不一样。</p>
<p>如果你有公网 IP 地址，不管是 v4 还是 v6，在防火墙上打开相应的端口以及设置好端口转发即可。</p>
<p>如果你没有公网IP地址，那么你想要外网访问可能就需要内网穿透了，可以参考我之前写的文章：《OpenWrt 使用 frp 实现内网穿透》</p>
<p>好了，以上就是 File Browser 在 Linux 系统上安装以及使用的方法，有关于更多的问题，欢迎加入 QQ 群与我探讨。</p>

      
    </div>
      
      <footer>
        
        
  
  <div>
    <a href="/tags/内容管理/">内容管理</a>
  </div>

        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>


<section id="comment">
  
</section>


</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索">
    <input type="hidden" name="q" value="site:zhoukuo.github.com">
  </form>
</div>

  
<div class="widget tag">
  <h3 class="title">最新文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2020/08/21/项目开发管理工具推荐/">项目开发管理工具推荐</a>
      </li>
    
      <li>
        <a href="/2020/08/19/敏捷项目管理工具-Taiga/">敏捷项目管理工具-Taiga</a>
      </li>
    
      <li>
        <a href="/2020/08/11/Apifox试用总结/">Apifox试用总结</a>
      </li>
    
      <li>
        <a href="/2020/07/15/cUrl使用指南/">cUrl使用指南</a>
      </li>
    
      <li>
        <a href="/2020/07/03/转-用wrk进行性能测试/">转-用wrk进行性能测试</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">标签</h3>
  <ul class="entry">
  
    <li><a href="/tags/c/">c</a><small>6</small></li>
  
    <li><a href="/tags/golang/">golang</a><small>10</small></li>
  
    <li><a href="/tags/linux/">linux</a><small>8</small></li>
  
    <li><a href="/tags/内容管理/">内容管理</a><small>3</small></li>
  
    <li><a href="/tags/持续交付/">持续交付</a><small>7</small></li>
  
    <li><a href="/tags/数据库/">数据库</a><small>1</small></li>
  
    <li><a href="/tags/文化/">文化</a><small>7</small></li>
  
    <li><a href="/tags/服务网关/">服务网关</a><small>4</small></li>
  
    <li><a href="/tags/测试/">测试</a><small>6</small></li>
  
    <li><a href="/tags/监控/">监控</a><small>3</small></li>
  
    <li><a href="/tags/程序设计/">程序设计</a><small>10</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/c/" style="font-size: 15px;">c</a> <a href="/tags/golang/" style="font-size: 20px;">golang</a> <a href="/tags/linux/" style="font-size: 18.33px;">linux</a> <a href="/tags/内容管理/" style="font-size: 11.67px;">内容管理</a> <a href="/tags/持续交付/" style="font-size: 16.67px;">持续交付</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/文化/" style="font-size: 16.67px;">文化</a> <a href="/tags/服务网关/" style="font-size: 13.33px;">服务网关</a> <a href="/tags/测试/" style="font-size: 15px;">测试</a> <a href="/tags/监控/" style="font-size: 11.67px;">监控</a> <a href="/tags/程序设计/" style="font-size: 20px;">程序设计</a>
  </div>
</div>


  <div class="widget tag">
  <h3 class="title">链接</h3>
    <ul class="entry">
        
    </ul>
</div>
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2020 zhoukuo
  
</div>
<div class="clearfix"></div></footer>
  <script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>



</body>
</html>

